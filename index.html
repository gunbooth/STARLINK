<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>STARLINK</title>

  <!-- White star favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon points='50,0 61.8,35 98.6,35 70.9,57.3 79,91 50,70 18.2,91 29.1,57.3 1.4,35 38.2,35' fill='%23ffffff' stroke='%23ffffff' stroke-width='2'/></svg>">

  <style>
    :root {
      --bg: #000000;
      --text: #ffffff;
      --dim: #cccccc;
      --star: #ffffff;
      --glow1: rgba(255,255,255,0.9);
      --glow2: rgba(255,255,255,0.55);
      --glow3: rgba(255,255,255,0.2);
      --menu-bg: rgba(255,255,255,0.08);
      --link-border: rgba(255,255,255,0.25);
      --link-bg: rgba(255,255,255,0.06);
    }

    /* All 24 themes (unchanged) */
    body.theme-cosmic {}
    body.theme-neon {--bg:#0a0015;--text:#e0f7ff;--dim:#a0d8ff;--star:#ff00aa;--glow1:rgba(255,0,170,0.9);--glow2:rgba(0,255,255,0.7);--glow3:rgba(255,0,170,0.3);--menu-bg:rgba(0,255,255,0.12);--link-border:rgba(0,255,255,0.4);--link-bg:rgba(0,255,255,0.08);}
    body.theme-purple {--bg:#0f001a;--text:#e6d9ff;--dim:#b399ff;--star:#aa66ff;--glow1:rgba(170,102,255,0.9);--glow2:rgba(170,102,255,0.6);--glow3:rgba(170,102,255,0.25);--menu-bg:rgba(170,102,255,0.12);--link-border:rgba(170,102,255,0.35);--link-bg:rgba(170,102,255,0.08);}
    body.theme-void {--bg:#000000;--text:#dddddd;--dim:#888888;--star:#555555;--glow1:rgba(100,100,100,0.5);--glow2:rgba(80,80,80,0.3);--glow3:rgba(60,60,60,0.15);--menu-bg:rgba(40,40,40,0.5);--link-border:rgba(100,100,100,0.4);--link-bg:rgba(30,30,30,0.3);}
    body.theme-emerald {--bg:#001510;--text:#e0fff5;--dim:#80ffcc;--star:#00ffaa;--glow1:rgba(0,255,170,0.9);--glow2:rgba(0,200,140,0.6);--glow3:rgba(0,150,100,0.3);--menu-bg:rgba(0,255,170,0.12);--link-border:rgba(0,255,170,0.35);--link-bg:rgba(0,255,170,0.08);}
    body.theme-crimson {--bg:#150000;--text:#ffe6e6;--dim:#ff9999;--star:#ff4444;--glow1:rgba(255,68,68,0.9);--glow2:rgba(200,0,0,0.6);--glow3:rgba(150,0,0,0.3);--menu-bg:rgba(255,68,68,0.12);--link-border:rgba(255,68,68,0.35);--link-bg:rgba(255,68,68,0.08);}
    body.theme-solar {--bg:#1a0d00;--text:#fffaf0;--dim:#ffd9a3;--star:#ffcc66;--glow1:rgba(255,204,102,0.9);--glow2:rgba(255,140,0,0.65);--glow3:rgba(255,69,0,0.3);--menu-bg:rgba(255,140,0,0.14);--link-border:rgba(255,140,0,0.38);--link-bg:rgba(255,140,0,0.09);}
    body.theme-aurora {--bg:#000d1a;--text:#f0f8ff;--dim:#b3e6ff;--star:#66ffcc;--glow1:rgba(102,255,204,0.85);--glow2:rgba(102,204,255,0.6);--glow3:rgba(153,102,255,0.35);--menu-bg:rgba(102,255,204,0.12);--link-border:rgba(102,255,204,0.35);--link-bg:rgba(102,255,204,0.07);}
    body.theme-galactic {--bg:#00051a;--text:#e6f0ff;--dim:#99ccff;--star:#6699ff;--glow1:rgba(102,153,255,0.9);--glow2:rgba(51,102,255,0.65);--glow3:rgba(0,51,204,0.3);--menu-bg:rgba(102,153,255,0.13);--link-border:rgba(102,153,255,0.36);--link-bg:rgba(102,153,255,0.08);}
    body.theme-vapor {--bg:#12001f;--text:#f5e6ff;--dim:#ffccff;--star:#ff66cc;--glow1:rgba(255,102,204,0.85);--glow2:rgba(102,255,255,0.6);--glow3:rgba(204,102,255,0.35);--menu-bg:rgba(255,102,204,0.12);--link-border:rgba(255,102,204,0.35);--link-bg:rgba(255,102,204,0.08);}
    body.theme-silver {--bg:#0a0a0a;--text:#f5f5f5;--dim:#bbbbbb;--star:#dddddd;--glow1:rgba(220,220,220,0.75);--glow2:rgba(180,180,180,0.5);--glow3:rgba(140,140,140,0.25);--menu-bg:rgba(180,180,180,0.15);--link-border:rgba(180,180,180,0.4);--link-bg:rgba(120,120,120,0.12);}
    body.theme-candy {--bg:#110022;--text:#ffffff;--dim:#ffccff;--star:#ff33ff;--glow1:rgba(255,51,255,0.95);--glow2:rgba(51,255,255,0.75);--glow3:rgba(255,153,51,0.4);--menu-bg:rgba(255,51,255,0.18);--link-border:rgba(255,51,255,0.45);--link-bg:rgba(255,51,255,0.10);}
    body.theme-toxic {--bg:#001a00;--text:#e6ffe6;--dim:#99ff99;--star:#33ff33;--glow1:rgba(51,255,51,0.9);--glow2:rgba(0,204,0,0.65);--glow3:rgba(0,102,0,0.3);--menu-bg:rgba(51,255,51,0.14);--link-border:rgba(51,255,51,0.38);--link-bg:rgba(51,255,51,0.09);}
    body.theme-ocean {--bg:#00051a;--text:#e6f2ff;--dim:#80ccff;--star:#3399ff;--glow1:rgba(51,153,255,0.9);--glow2:rgba(0,102,204,0.65);--glow3:rgba(0,51,153,0.3);--menu-bg:rgba(51,153,255,0.13);--link-border:rgba(51,153,255,0.36);--link-bg:rgba(51,153,255,0.08);}
    body.theme-golden {--bg:#1a1400;--text:#fff8e6;--dim:#ffeb99;--star:#ffdd66;--glow1:rgba(255,221,102,0.9);--glow2:rgba(255,187,0,0.65);--glow3:rgba(204,136,0,0.3);--menu-bg:rgba(255,221,102,0.14);--link-border:rgba(255,221,102,0.38);--link-bg:rgba(255,221,102,0.09);}
    body.theme-lavender {--bg:#14001a;--text:#f5e6ff;--dim:#d9b3ff;--star:#cc99ff;--glow1:rgba(204,153,255,0.9);--glow2:rgba(153,102,204,0.65);--glow3:rgba(102,51,153,0.3);--menu-bg:rgba(204,153,255,0.13);--link-border:rgba(204,153,255,0.36);--link-bg:rgba(204,153,255,0.08);}
    body.theme-blood {--bg:#1a0005;--text:#ffe6e6;--dim:#ff9999;--star:#cc3333;--glow1:rgba(204,51,51,0.9);--glow2:rgba(153,0,0,0.65);--glow3:rgba(102,0,0,0.3);--menu-bg:rgba(204,51,51,0.14);--link-border:rgba(204,51,51,0.38);--link-bg:rgba(204,51,51,0.09);}
    body.theme-ice {--bg:#00111a;--text:#e6faff;--dim:#99e6ff;--star:#66ddff;--glow1:rgba(102,221,255,0.9);--glow2:rgba(51,204,255,0.65);--glow3:rgba(0,153,204,0.3);--menu-bg:rgba(102,221,255,0.13);--link-border:rgba(102,221,255,0.36);--link-bg:rgba(102,221,255,0.08);}
    body.theme-violet {--bg:#0d001a;--text:#f0e6ff;--dim:#cc99ff;--star:#aa66ff;--glow1:rgba(170,102,255,0.9);--glow2:rgba(136,68,255,0.65);--glow3:rgba(102,34,204,0.3);--menu-bg:rgba(170,102,255,0.14);--link-border:rgba(170,102,255,0.38);--link-bg:rgba(170,102,255,0.09);}
    body.theme-desert {--bg:#1a0f00;--text:#fff5e6;--dim:#ffcc99;--star:#ff9966;--glow1:rgba(255,153,102,0.9);--glow2:rgba(255,102,51,0.65);--glow3:rgba(204,68,0,0.3);--menu-bg:rgba(255,153,102,0.14);--link-border:rgba(255,153,102,0.38);--link-bg:rgba(255,153,102,0.09);}
    body.theme-forest {--bg:#001a0f;--text:#e6fff5;--dim:#99ffcc;--star:#33cc99;--glow1:rgba(51,204,153,0.9);--glow2:rgba(0,153,102,0.65);--glow3:rgba(0,102,68,0.3);--menu-bg:rgba(51,204,153,0.14);--link-border:rgba(51,204,153,0.38);--link-bg:rgba(51,204,153,0.09);}
    body.theme-cherry {--bg:#1a000a;--text:#ffe6f2;--dim:#ff99cc;--star:#ff3399;--glow1:rgba(255,51,153,0.9);--glow2:rgba(204,0,102,0.65);--glow3:rgba(153,0,76,0.3);--menu-bg:rgba(255,51,153,0.14);--link-border:rgba(255,51,153,0.38);--link-bg:rgba(255,51,153,0.09);}
    body.theme-sunset {--bg:#1a0d1a;--text:#fff0f5;--dim:#ffccff;--star:#ff99cc;--glow1:rgba(255,153,204,0.9);--glow2:rgba(255,102,153,0.65);--glow3:rgba(204,51,102,0.3);--menu-bg:rgba(255,153,204,0.14);--link-border:rgba(255,153,204,0.38);--link-bg:rgba(255,153,204,0.09);}
    body.theme-lime {--bg:#0f1a00;--text:#f5ffe6;--dim:#ccff99;--star:#ccff33;--glow1:rgba(204,255,51,0.9);--glow2:rgba(153,204,0,0.65);--glow3:rgba(102,153,0,0.3);--menu-bg:rgba(204,255,51,0.14);--link-border:rgba(204,255,51,0.38);--link-bg:rgba(204,255,51,0.09);}

    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family:system-ui,sans-serif;
      background:var(--bg);
      color:var(--text);
      min-height:100vh;
      overflow:hidden;
      position:relative;
      cursor:default;
      transition:background .6s ease;
    }
    #stars {position:fixed;inset:0;pointer-events:none;z-index:1;}
    .star {
      position:absolute;
      background:var(--star);
      border-radius:50%;
      box-shadow:0 0 10px var(--glow1),0 0 24px var(--glow2),0 0 50px var(--glow3);
      will-change:transform;
      opacity:0;
      animation:appear 1.8s forwards ease-out;
      animation-delay:calc(var(--delay)*0.06s);
    }
    @keyframes appear {to{opacity:var(--base-opacity,0.8);}}
    .screen {
      position:relative;
      z-index:10;
      min-height:100vh;
      padding:2rem;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      text-align:center;
      opacity:0;
      animation:fadeIn 1.8s .3s forwards ease-out;
    }
    @keyframes fadeIn {to{opacity:1;}}
    .hidden {display:none!important;}

    .big-star {
      width:260px;height:260px;margin-bottom:2.5rem;
      background:var(--star);
      clip-path:polygon(50% 0%,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);
      box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);
      animation:bigGlow 14s infinite ease-in-out,pulseLight 4.2s infinite ease-in-out;
      transform:translateZ(0);
    }
    @keyframes bigGlow {
      0%,100%{box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);}
      50%{box-shadow:0 0 150px var(--glow1),0 0 300px var(--glow2),0 0 520px var(--glow3);}
    }
    @keyframes pulseLight {
      0%,100%{transform:scale(1);box-shadow:0 0 90px var(--glow1),0 0 180px var(--glow2),0 0 320px var(--glow3);}
      50%{transform:scale(1.07);box-shadow:0 0 140px var(--glow1),0 0 280px var(--glow2),0 0 480px var(--glow3);}
    }

    h1{font-size:6rem;font-weight:800;letter-spacing:-.07em;margin-bottom:.6rem;text-shadow:0 0 80px rgba(255,255,255,.45);}
    h2{font-size:3rem;margin:2rem 0 1.5rem;}
    .tagline{font-size:1.9rem;color:var(--dim);margin-bottom:4rem;font-weight:300;}

    .btn,.back-btn,.random-btn,.clear-btn,.open-all-btn {
      padding:1rem 2rem;
      font-size:1.1rem;
      border-radius:999px;
      cursor:pointer;
      transition:all .3s ease;
      margin:0 .4rem;
      display:inline-block;
    }
    .btn,.back-to-landing-btn,.open-all-btn {
      background:white;
      color:black;
      box-shadow:0 0 60px rgba(255,255,255,.4);
      border:none;
    }
    .btn:hover,.back-to-landing-btn:hover,.open-all-btn:hover,.random-btn:hover,.clear-btn:hover {
      transform:translateY(-4px);
      box-shadow:0 0 100px rgba(255,255,255,.6);
    }
    .random-btn,.clear-btn {background:#444;color:white;border:1px solid #777;}
    .random-btn:hover,.clear-btn:hover {background:#666;}
    .open-all-btn {background:#0066cc;color:white;border:none;}

    .category-controls {
      display:flex;
      justify-content:center;
      gap:.8rem;
      margin:2rem 0;
      flex-wrap:wrap;
    }

    .search-wrapper {
      display:flex;
      width:100%;
      max-width:600px;
      margin:0 auto 1.5rem;
      gap:.8rem;
    }
    input[type="text"] {
      flex:1;
      padding:1rem;
      font-size:1.1rem;
      border:1px solid var(--dim);
      border-radius:12px;
      background:rgba(255,255,255,.05);
      color:white;
      outline:none;
    }
    input[type="text"]::placeholder {color:var(--dim);}
    .clear-btn {padding:1rem 1.5rem; min-width:80px;}

    .menu {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:1.6rem;
      max-width:1200px;
      width:100%;
      margin:1rem 0 3rem;
    }
    .menu-btn {
      padding:1.3rem 2rem;
      font-size:1.4rem;
      background:var(--menu-bg);
      color:white;
      border:1px solid rgba(255,255,255,.18);
      border-radius:14px;
      transition:all .3s ease;
      cursor:pointer;
    }
    .menu-btn:hover {
      background:rgba(255,255,255,.14);
      box-shadow:0 0 35px rgba(255,255,255,.25);
      transform:translateY(-6px);
    }

    .links {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:1.2rem;
      max-width:1200px;
      width:100%;
    }
    .link.hidden {display:none!important;}
    .link {
      padding:1.2rem;
      background:var(--link-bg);
      border:1px solid var(--link-border);
      border-radius:10px;
      text-decoration:none;
      color:white;
      transition:all .3s ease;
      font-size:1.1rem;
      text-align:center;
    }
    .link:hover {
      background:rgba(255,255,255,.14);
      box-shadow:0 0 30px rgba(255,255,255,.22);
      transform:translateY(-4px);
    }

    .theme-selector {
      position:absolute;
      top:1rem;
      right:1rem;
      background:rgba(255,255,255,.08);
      padding:.5rem 1rem;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.2);
      z-index:20;
    }
    .theme-selector select {
      background:transparent;
      color:white;
      border:none;
      font-size:.95rem;
      cursor:pointer;
      outline:none;
    }
    .theme-selector option {background:#111;color:white;}

    @media (max-width:768px) {
      h1{font-size:4.8rem;}
      .big-star{width:220px;height:220px;}
      .tagline{font-size:1.7rem;}
      .search-wrapper{flex-direction:column;}
      .category-controls{flex-direction:column;gap:.8rem;}
      .menu{grid-template-columns:1fr;}
      .links{grid-template-columns:1fr;}
    }
  </style>
</head>
<body class="theme-cosmic">

  <div id="stars"></div>

  <!-- Landing -->
  <div class="screen" id="landing">
    <div class="big-star"></div>
    <h1>STARLINK</h1>
    <p class="tagline">By: Gunnar Booth</p>
    <button id="get-started" class="btn">Get Started</button>
  </div>

  <!-- Menu -->
  <div class="screen hidden" id="menu">
    <div class="theme-selector">
      <select id="theme-select">
        <option value="cosmic">Cosmic (default)</option>
        <option value="neon">Neon Cyber</option>
        <option value="purple">Midnight Purple</option>
        <option value="void">Void Black</option>
        <option value="emerald">Emerald Glow</option>
        <option value="crimson">Crimson Pulse</option>
        <option value="solar">Solar Flare</option>
        <option value="aurora">Aurora Borealis</option>
        <option value="galactic">Galactic Blue</option>
        <option value="vapor">Retro Vaporwave</option>
        <option value="silver">Monochrome Silver</option>
        <option value="candy">Candy Neon</option>
        <option value="toxic">Toxic Green</option>
        <option value="ocean">Deep Ocean</option>
        <option value="golden">Golden Hour</option>
        <option value="lavender">Lavender Dream</option>
        <option value="blood">Blood Moon</option>
        <option value="ice">Ice Cold</option>
        <option value="violet">Electric Violet</option>
        <option value="desert">Desert Sunset</option>
        <option value="forest">Forest Night</option>
        <option value="cherry">Cherry Blossom</option>
        <option value="sunset">Sunset Glow</option>
        <option value="lime">Electric Lime</option>
      </select>
    </div>
    <h2>Choose a Category</h2>
    <div class="menu">
      <button class="menu-btn" data-category="proxy">Proxy Sites</button>
      <button class="menu-btn" data-category="games">Game Sites</button>
      <button class="menu-btn" data-category="music">Music Sites</button>
      <button class="menu-btn" data-category="movies">Movie Sites</button>
      <button class="menu-btn" data-category="ai">AI Sites</button>
    </div>
    <div class="category-controls">
      <button id="random-all" class="random-btn">Random Site (All)</button>
      <button id="back-to-landing" class="btn back-to-landing-btn">Back to Landing</button>
    </div>
  </div>

  <!-- Categories -->
  <div class="screen hidden category-container" id="category-view">
    <div id="proxy" class="category hidden">
      <h2>Proxy Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="search-proxy" placeholder="Search proxies..." autocomplete="off">
        <button class="clear-btn">Clear</button>
      </div>
      <div class="links" id="links-proxy">
        <a href="https://ali-in-a-new-dress.global.ssl.fastly.net/" target="_blank" class="link">Boredom V2</a>
        <a href="https://brightenglish.flightbooker.co.za/" target="_blank" class="link">Shadow</a>
        <a href="https://learn-2-code.surge.sh/" target="_blank" class="link">Nebulo</a>
        <a href="https://travelingagent.thepresenttraveller.com/" target="_blank" class="link">Glint</a>
      </div>
      <div class="category-controls">
        <button class="random-btn" data-for="proxy">Random Proxy</button>
        <button class="open-all-btn" data-for="proxy">Open All</button>
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="games" class="category hidden">
      <h2>Game Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="search-games" placeholder="Search games..." autocomplete="off">
        <button class="clear-btn">Clear</button>
      </div>
      <div class="links" id="links-games">
        <a href="https://imadejptr.github.io/" target="_blank" class="link">imadejptr</a>
        <a href="https://theorytest.help/" target="_blank" class="link">The Marz Library</a>
        <a href="https://algebra.learnnexus.one/" target="_blank" class="link">Reds Exploit Corner</a>
        <a href="https://www.msn.com/en-xl/play" target="_blank" class="link">MSN</a>
        <a href="https://neal.fun/" target="_blank" class="link">Neal.fun</a>
        <a href="https://www.twoplayergames.org/" target="_blank" class="link">TwoPlayerGames</a>
        <a href="https://bobzgames.github.io/GBA/" target="_blank" class="link">GBA Emulator</a>
      </div>
      <div class="category-controls">
        <button class="random-btn" data-for="games">Random Game</button>
        <button class="open-all-btn" data-for="games">Open All</button>
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="music" class="category hidden">
      <h2>Music Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="search-music" placeholder="Search music..." autocomplete="off">
        <button class="clear-btn">Clear</button>
      </div>
      <div class="links" id="links-music">
        <a href="https://playlistsound.com/" target="_blank" class="link">PlaylistSound</a>
        <a href="https://music.amazon.com/" target="_blank" class="link">Amazon Music</a>
      </div>
      <div class="category-controls">
        <button class="random-btn" data-for="music">Random Music</button>
        <button class="open-all-btn" data-for="music">Open All</button>
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="movies" class="category hidden">
      <h2>Movie Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="search-movies" placeholder="Search movies..." autocomplete="off">
        <button class="clear-btn">Clear</button>
      </div>
      <div class="links" id="links-movies">
        <a href="https://donkey.to/" target="_blank" class="link">Donkey</a>
      </div>
      <div class="category-controls">
        <button class="random-btn" data-for="movies">Random Movie</button>
        <button class="open-all-btn" data-for="movies">Open All</button>
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>

    <div id="ai" class="category hidden">
      <h2>AI Sites</h2>
      <div class="search-wrapper">
        <input type="text" id="search-ai" placeholder="Search AI..." autocomplete="off">
        <button class="clear-btn">Clear</button>
      </div>
      <div class="links" id="links-ai">
        <a href="https://grok.x.ai/" target="_blank" class="link">Grok</a>
        <a href="https://copilot.microsoft.com/" target="_blank" class="link">Microsoft Copilot</a>
        <a href="https://gemini.google.com/app" target="_blank" class="link">Google Gemini</a>
        <a href="https://www.perplexity.ai/" target="_blank" class="link">Perplexity AI</a>
      </div>
      <div class="category-controls">
        <button class="random-btn" data-for="ai">Random AI</button>
        <button class="open-all-btn" data-for="ai">Open All</button>
        <button class="back-btn">Back to Menu</button>
      </div>
    </div>
  </div>

  <script>
    // Starfield (unchanged)
    const container = document.getElementById('stars');
    const stars = [];
    const mouse = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
    const count = 220;

    for (let i = 0; i < count; i++) {
      const star = document.createElement('div');
      star.className = 'star';
      const size = 1.0 + Math.random() * 3.5;
      star.style.width = size + 'px';
      star.style.height = size + 'px';
      const baseOpacity = 0.45 + Math.random() * 0.4;
      star.style.setProperty('--base-opacity', baseOpacity);
      star.style.setProperty('--delay', i);
      star.baseX = Math.random();
      star.baseY = Math.random();
      star.offsetX = 0;
      star.offsetY = 0;
      star.vx = (Math.random() - 0.5) * 0.12;
      star.vy = (Math.random() - 0.5) * 0.12;
      star.damping = 0.935 + Math.random() * 0.03;
      container.appendChild(star);
      stars.push(star);
    }

    window.addEventListener('mousemove', e => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });

    function animate() {
      const w = window.innerWidth;
      const h = window.innerHeight;
      stars.forEach(star => {
        let targetX = star.baseX * w;
        let targetY = star.baseY * h;
        const dx = mouse.x - targetX;
        const dy = mouse.y - targetY;
        const dist = Math.hypot(dx, dy) || 1;
        const force = Math.min(80 / dist, 1.2);
        star.vx += (dx / dist) * force * 0.085;
        star.vy += (dy / dist) * force * 0.085;
        star.vx += (Math.random() - 0.5) * 0.006;
        star.vy += (Math.random() - 0.5) * 0.006;
        star.vx *= star.damping;
        star.vy *= star.damping;
        star.offsetX += star.vx;
        star.offsetY += star.vy;
        if (Math.abs(star.offsetX) > w * 1.2) star.offsetX *= 0.35;
        if (Math.abs(star.offsetY) > h * 1.2) star.offsetY *= 0.35;
        const x = targetX + star.offsetX;
        const y = targetY + star.offsetY;
        star.style.transform = `translate(${x}px, ${y}px)`;
      });
      requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener('resize', () => {});

    // Theme switcher
    document.getElementById('theme-select').addEventListener('change', e => {
      document.body.className = 'theme-' + e.target.value;
    });

    // Navigation
    const landing = document.getElementById('landing');
    const menu = document.getElementById('menu');
    const categoryView = document.getElementById('category-view');

    document.getElementById('get-started').addEventListener('click', () => {
      landing.classList.add('hidden');
      menu.classList.remove('hidden');
    });

    document.querySelectorAll('.menu-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const catId = btn.dataset.category;
        menu.classList.add('hidden');
        categoryView.classList.remove('hidden');
        document.querySelectorAll('.category').forEach(cat => cat.classList.add('hidden'));
        document.getElementById(catId).classList.remove('hidden');
      });
    });

    document.querySelectorAll('.back-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        categoryView.classList.add('hidden');
        menu.classList.remove('hidden');
      });
    });

    document.getElementById('back-to-landing').addEventListener('click', () => {
      menu.classList.add('hidden');
      landing.classList.remove('hidden');
    });

    // Search + Clear + Open All
    function setupCategory(categoryId) {
      const search = document.getElementById(`search-${categoryId}`);
      const clearBtn = document.querySelector(`#${categoryId} .clear-btn`);
      const openAllBtn = document.querySelector(`#${categoryId} .open-all-btn`);
      const linksContainer = document.getElementById(`links-${categoryId}`);

      if (!search || !linksContainer) return;

      // Search filtering
      search.addEventListener('input', () => {
        const term = search.value.toLowerCase().trim();
        const links = linksContainer.querySelectorAll('.link');
        links.forEach(link => {
          const text = link.textContent.toLowerCase();
          link.classList.toggle('hidden', term && !text.includes(term));
        });
      });

      // Clear search
      if (clearBtn) {
        clearBtn.addEventListener('click', () => {
          search.value = '';
          const links = linksContainer.querySelectorAll('.link');
          links.forEach(link => link.classList.remove('hidden'));
          search.focus();
        });
      }

      // Open all visible
      if (openAllBtn) {
        openAllBtn.addEventListener('click', () => {
          const visible = Array.from(linksContainer.querySelectorAll('.link:not(.hidden)'));
          if (visible.length === 0) {
            alert("No visible links to open in this category.");
            return;
          }
          if (visible.length > 8) {
            if (!confirm(`Opening ${visible.length} tabs â€” continue?`)) return;
          }
          visible.forEach(link => window.open(link.href, '_blank'));
        });
      }
    }

    // Set up all categories
    ['proxy','games','music','movies','ai'].forEach(setupCategory);

    // Random across all (unchanged)
    document.getElementById('random-all')?.addEventListener('click', () => {
      const allLinks = [];
      document.querySelectorAll('.links').forEach(cont => {
        cont.querySelectorAll('.link:not(.hidden)').forEach(l => allLinks.push(l.href));
      });
      if (allLinks.length === 0) {
        alert("No visible sites anywhere!");
        return;
      }
      const randomUrl = allLinks[Math.floor(Math.random() * allLinks.length)];
      window.open(randomUrl, '_blank');
    });

    // Category random (unchanged)
    document.querySelectorAll('.random-btn[data-for]').forEach(btn => {
      btn.addEventListener('click', () => {
        const cat = btn.dataset.for;
        const container = document.getElementById(`links-${cat}`);
        const visible = Array.from(container.querySelectorAll('.link:not(.hidden)'));
        if (visible.length === 0) {
          alert("No visible links in this category!");
          return;
        }
        const randomUrl = visible[Math.floor(Math.random() * visible.length)].href;
        window.open(randomUrl, '_blank');
      });
    });
  </script>
</body>
</html>
